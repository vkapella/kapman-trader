Wyckoff → Option Strategy Mapping Specification

This is written to be:
	•	stored alongside the prior document in docs/architecture/
	•	used directly by planners and AI-agent designers
	•	explicit enough to constrain agent behavior
	•	flexible enough to evolve with strategy expansion

No fluff, no analysis language — this is a normative contract.

⸻

Wyckoff → Option Strategy Mapping Specification

Document Type: Architectural Strategy Mapping
Status: Draft v1.0 (Research-Validated, Production-Aligned)
Scope: Strategy Selection, Trade Construction, AI Agent Guidance

⸻

1. Purpose

This document defines the approved mapping between Wyckoff structural signals and options trading strategies within the KapMan system.

It translates:
	•	Wyckoff events
	•	Event sequences
	•	Regimes
	•	Event-confirmed regime transitions

into permitted option structures, risk postures, and timing semantics.

This specification is intended for:
	•	AI agent decision planning
	•	Human review and override
	•	Deterministic strategy gating
	•	Consistent risk expression

⸻

2. Core Design Principle

Wyckoff structure determines directional conviction and timing;
options structure determines risk expression.

Accordingly:
	•	Wyckoff does not select strikes
	•	Wyckoff does not price options
	•	Wyckoff does constrain which strategies are allowed

⸻

3. Strategy Classes (Canonical)

The system recognizes the following canonical option strategy classes:
	1.	Long Call
	2.	Long Put
	3.	Call Debit Spread
	4.	Put Debit Spread
	5.	Cash-Secured Put (CSP)
	6.	Covered Call (Exit / Income)
	7.	Hedge Overlay (protective puts, spreads)

Other strategies are explicitly out of scope for v1.

⸻

4. Wyckoff Signal → Strategy Eligibility Matrix

4.1 Bullish Resolution (Accumulation → Markup)

Eligible Wyckoff Structures
	•	SPRING → TEST → SOS
	•	SC → AR → ST → SPRING → SOS
	•	SEQ_ACCUM_BREAKOUT
	•	Event-confirmed Accumulation → Markup

Permitted Strategies

Strategy	Usage
Long Call	Primary
Call Debit Spread	Primary
CSP	Early-stage only
Scale-in Calls	After SOS
Hedge	Not permitted

Disallowed
	•	Long Put
	•	Put Spreads
	•	Covered Calls (premature)

⸻

4.2 Bearish Resolution (Distribution → Markdown)

Eligible Wyckoff Structures
	•	BC → AR_TOP → SOW
	•	BC → SOW
	•	Event-confirmed Distribution → Markdown
	•	SEQ_MARKDOWN_START

Permitted Strategies

Strategy	Usage
Long Put	Primary
Put Debit Spread	Primary
Covered Call	Exit / defense
Hedge Overlay	Permitted

Disallowed
	•	Long Call
	•	CSP

⸻

5. Neutral / Early Structure (Contextual Only)

5.1 Accumulation (No Resolution Yet)

Wyckoff State
	•	Accumulation regime
	•	No confirmed SOS
	•	Possible SC / ST activity

Permitted Strategies

Strategy	Usage
CSP	Primary
Small Call Spreads	Conditional
No Trade	Acceptable

Disallowed
	•	Aggressive Long Calls
	•	Large directional bets

⸻

5.2 Distribution (No Breakdown Yet)

Wyckoff State
	•	Distribution regime
	•	BC present, no SOW

Permitted Strategies

Strategy	Usage
Covered Calls	Primary
Defensive Hedges	Conditional
No Trade	Acceptable

Disallowed
	•	Aggressive Long Puts
	•	New Long Calls

⸻

6. Timing & Expiration Guidance (Structural, Not Pricing)

Wyckoff structure constrains minimum viable duration, not exact DTE.

6.1 Resolution-Based Timing

Structure Type	Minimum Horizon
Full Accumulation Resolution	30–90 days
Early Accumulation	45–120 days
Distribution Breakdown	30–90 days
Late Markup / Late Distribution	20–60 days

Rule:

Option expiration must extend beyond the expected structural move window.

⸻

7. Scale-In / Scale-Out Strategy Rules

7.1 Scale-In (Add Exposure)

Permitted when:
	•	Initial position was sequence-driven
	•	A confirming event occurs (e.g., SOS after entry)
	•	No opposing event or sequence exists

Permitted instruments:
	•	Additional calls
	•	Tightened debit spreads

⸻

7.2 Scale-Out (Reduce Exposure)

Triggered by:
	•	Opposing high-energy event
	•	Late-stage bearish sequence
	•	Event-confirmed regime reversal

Permitted actions:
	•	Partial close
	•	Roll to defensive structure
	•	Covered calls (for long equity)

⸻

8. Risk Expression Constraints

Wyckoff caps aggression:

Structural Confidence	Strategy Constraint
Single Event Only	Small size / spreads only
Partial Sequence	Defined-risk strategies
Completed Sequence	Full-size directional allowed
Contradictory Structure	No trade


⸻

9. AI Agent Contract

9.1 Required Inputs

Agents must receive:
	•	Active Wyckoff sequences
	•	Event-confirmed regime transitions
	•	Current regime + prior regime
	•	Sequence confidence / energy scores
	•	Allowed strategy set (from this spec)

⸻

9.2 Expected Outputs

Agents may propose:
	•	Strategy class
	•	Directional bias
	•	Relative aggressiveness
	•	Rationale tied to Wyckoff structure

Agents must not:
	•	Propose disallowed strategies
	•	Ignore structural constraints
	•	Invent signals

⸻

10. Explicit Prohibitions

The following are disallowed:
	•	Selecting option strategies based solely on regime
	•	Using single events as justification for aggressive trades
	•	Selling premium against unresolved structure
	•	Recommending strategies inconsistent with directional structure

⸻

11. Architectural Status
	•	Wyckoff inputs: Research-validated
	•	Production signals: Fidelity confirmed
	•	Strategy mapping: Constraint-based, not prescriptive
	•	AI role: Interpreter within bounds

This specification defines what is allowed, not what must be chosen.

⸻

12. Change Control

Any addition of:
	•	New strategy types
	•	New Wyckoff sequences
	•	Different risk postures

Requires:
	•	Statistical review
	•	Explicit update to this document

⸻

END OF DOCUMENT

