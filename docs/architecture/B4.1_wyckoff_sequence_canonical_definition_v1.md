Wyckoff Sequence Canonical Definition v1 (B4.1)

Purpose
- Persist benchmark-validated, terminal-anchored Wyckoff sequences as immutable derived artifacts.
- Sequences are anchored on terminal events (SOS/SOW) and conditioned by terminal-date regime eligibility.

Deprecated table
- Canonical structural events are persisted in wyckoff_context_events.
- wyckoff_canonical_events is legacy and must not be used.

Canonical sequences (v1)
1) ACCUMULATION_BREAKOUT
   - Terminal event: SOS
   - Eligibility: terminal-date regime in ACCUMULATION or MARKDOWN
   - Supporting events (optional, ordered): SC -> AR -> SPRING

2) DISTRIBUTION_BREAKDOWN
   - Terminal event: SOW
   - Eligibility: terminal-date regime in DISTRIBUTION or MARKUP
   - Supporting events (optional, ordered): BC -> AR_TOP -> UT

Persistence model
- Sequences are written to public.wyckoff_sequences.
- Composition is written to public.wyckoff_sequence_events.
- Terminal anchoring is mandatory; sequences do not exist without SOS/SOW.

Immutability and invalidation
- Sequence rows are immutable after insert.
- Invalidation is represented by invalidated=true with invalidated_reason populated.
- No deletes, no retroactive mutation.

Evidence ownership
- B4.1 does not write to wyckoff_snapshot_evidence.
- Evidence remains owned by B1/B2/B4.

Ownership and schema placement
- B4.1 ownership is logical. All sequence artifacts reside in the public schema, consistent with existing KapMan Wyckoff persistence.
